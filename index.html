<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•é¢˜</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        neutral: '#F3F4F6',
                        dark: '#1F2937'
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                        consolas: ['Consolas', 'Monaco', 'monospace'],
                    },
                    screens: {
                        'ultrawide': '1920px',
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }

            .editor-shadow {
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            }

            .option-hover {
                @apply hover:bg-primary/10 transition-colors duration-200;
            }

            .code-line {
                @apply relative py-0.5 px-1.5 my-0.5 rounded-md transition-all duration-300 pl-4;
            }

            .code-line:hover {
                @apply bg-gray-100;
            }

            .blank-select {
                @apply bg-primary/10 border-2 border-primary/30 rounded px-1.5 py-0.5 text-primary font-medium cursor-pointer transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50 text-sm;
            }

            .blank-select:hover {
                @apply bg-primary/20;
            }

            .btn-submit {
                @apply bg-primary hover:bg-primary/90 text-white font-medium py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2;
            }

            .btn-reset {
                @apply bg-gray-200 hover:bg-gray-300 text-dark font-medium py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-400/50 focus:ring-offset-2;
            }

            .feedback-correct {
                @apply text-green-500 font-medium;
            }

            .feedback-incorrect {
                @apply text-red-500 font-medium;
            }

            .indent-1 {
                @apply pl-6;
            }

            .indent-2 {
                @apply pl-10;
            }

            .draggable-item {
                @apply bg-white rounded-lg px-2 py-1 border border-gray-300 shadow-sm cursor-grab active:cursor-grabbing transition-all duration-200 hover:shadow-md whitespace-nowrap inline-block mb-1 mr-1 text-sm;
            }

            .answer-box {
                @apply min-h-[60px] bg-neutral rounded-lg p-2 border-2 border-dashed border-gray-300 transition-all duration-300 flex flex-wrap items-start;
            }

            .answer-box-highlight {
                @apply border-primary bg-blue-50;
            }

            .option-container {
                @apply min-h-[60px] bg-white rounded-lg p-3 border border-gray-300 shadow-sm;
            }

            .code-preview {
                @apply bg-dark text-white p-4 rounded-lg font-mono overflow-x-auto;
            }

            .scroll-x-auto {
                overflow-x: auto;
            }

            .flex-nowrap {
                flex-wrap: nowrap;
            }
        }
    </style>
</head>
<body class="font-inter bg-gray-50 text-dark min-h-screen">
    <div class="px-4 sm:px-6 lg:px-8 py-6">
        <!-- ç¬¬9é¢˜ -->
        <main class="grid grid-cols-1 lg:grid-cols-1 gap-6 ultrawide:gap-8 mb-12"> <!-- ä¿®æ”¹è¿™é‡Œï¼Œæ·»åŠ mb-12ç±»å¢åŠ åº•éƒ¨é—´è· -->
            <!-- å·¦ä¾§é¢˜ç›®åŒºåŸŸ -->
            <div class="lg:col-span-12 bg-white rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-lg">
                
                
                <!-- é¢˜ç›®å’Œç¤ºä¾‹åˆ†ä¸¤æ å¸ƒå±€ -->
                <div class="grid ggrid-cols-[1fr_1fr] md:grid-cols-[5fr_6fr] gap-4">
                    <!-- å·¦ä¾§é¢˜ç›®å†…å®¹ -->
                    <div>
                        <div class="flex items-center mb-4">
                            <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mr-3">
                                <i class="fa-solid fa-question text-primary"></i>
                            </div>
                            <h2 class="text-xl font-semibold text-dark">ç¬¬9é¢˜</h2>
                        </div>
                        <div class="space-y-1">
                            <p class="text-gray-700">åœ¨ç½‘é¡µé‡Œæ·»åŠ bgm.mp3<span class="font-semibold text-primary">éŸ³ä¹</span>ï¼ˆéŸ³ä¹æ–‡ä»¶åœ¨musicæ–‡ä»¶å¤¹é‡Œï¼‰ï¼Œå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š</p>
                            <ul class="list-disc pl-5 text-gray-700 space-y-0">
                                <li>æ˜¾ç¤ºæ’­æ”¾æ§ä»¶ã€‚</li>
                                <li>è‡³å°‘ä½¿ç”¨autoplayã€mutedã€loopä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œä¼˜åŒ–æ’­æ”¾æ•ˆæœã€‚</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- å³ä¾§ç¤ºä¾‹å†…å®¹ -->
                    <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 h-fit">
                        <div class="flex items-center mb-3">
                            <div class="w-8 h-8 rounded-full bg-secondary/10 flex items-center justify-center mr-2">
                                <i class="fa-solid fa-lightbulb text-secondary text-sm"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-dark">åŸºæœ¬æ ¼å¼</h3>
                        </div> 
                        <p class="text-gray-700">æ’å…¥<span class="font-semibold text-primary">è§†é¢‘</span>ï¼š<span class="font-mono text-gray-800 mb-2">&lt;video src="æ–‡ä»¶è·¯å¾„" æ’­æ”¾æ§ä»¶ å¯é€‰å±æ€§&gt;&lt;/video&gt;</span></p>
                        <p class="text-gray-700">æ’å…¥<span class="font-semibold text-primary">éŸ³é¢‘</span>ï¼š<span class="font-mono text-gray-800 mb-2">&lt;audio src="æ–‡ä»¶è·¯å¾„" æ’­æ”¾æ§ä»¶ å¯é€‰å±æ€§&gt;&lt;/audio&gt;</span></p>
                    </div>
                </div>
            </div>
        </main>
        <main class="grid grid-cols-1 lg:grid-cols-12 gap-6 ultrawide:gap-8">
            <!-- å·¦ä¾§å¯é€‰æ¨¡å—åŒºåŸŸ -->
            <div class="lg:col-span-4 bg-white rounded-xl shadow-md p-4 transition-all duration-300 hover:shadow-lg">
                <div class="flex items-center mb-3">
                    <div class="flex items-center">
                        <div class="w-8 h-8 rounded-full bg-secondary/10 flex items-center justify-center mr-2">
                            <i class="fa-solid fa-puzzle-piece text-secondary text-sm"></i>
                        </div>
                        <h2 class="text-lg font-semibold text-dark">å¯é€‰æ¨¡å—</h2>
                    </div>
                </div>
                <div class="option-container pb-2">
                    <div id="draggable-options">
                        <div class="draggable-item" draggable="true" data-value="&lt;video">
                            &lt;video
                        </div>
                        <div class="draggable-item" draggable="true" data-value="&lt;audio">
                            &lt;audio
                        </div>
                        <div class="draggable-item" draggable="true" data-value="src=&quot;bgm.mp3&quot;">
                            src="bgm.mp3"
                        </div>
                        <div class="draggable-item" draggable="true" data-value="src=&quot;music/bgm.mp3&quot;">
                            src="music/bgm.mp3"
                        </div>
                        <div class="draggable-item" draggable="true" data-value="controls">
                            controls
                        </div>
                        <div class="draggable-item" draggable="true" data-value="control">
                            control
                        </div>
                        <div class="draggable-item" draggable="true" data-value="autoplay">
                            autoplay
                        </div>
                        <div class="draggable-item" draggable="true" data-value="muted">
                            muted
                        </div>
                        <div class="draggable-item" draggable="true" data-value="loop">
                            loop
                        </div>
                        <div class="draggable-item" draggable="true" data-value="&gt;">
                            &gt;
                        </div>
                        <div class="draggable-item" draggable="true" data-value="&lt;/video&gt;">
                            &lt;/video&gt;
                        </div>
                        <div class="draggable-item" draggable="true" data-value="&lt;/audio&gt;">
                            &lt;/audio&gt;
                        </div>
                    </div>
                </div>
            </div>

            <!-- å³ä¾§ç­”æ¡ˆæ¡†å’Œé¢„è§ˆæ•ˆæœåŒºåŸŸ -->
            <div class="lg:col-span-8 space-y-4">
                <!-- ç­”æ¡ˆæ¡†åŒºåŸŸ -->
                <div class="bg-white rounded-xl shadow-md p-4 transition-all duration-300 hover:shadow-lg relative">
                    <button id="reset-btn" class="absolute top-3 right-3 bg-red-500 text-white px-3 py-1.5 rounded-lg hover:bg-red-600 transition-colors flex items-center text-sm">
                        <i class="fa-solid fa-refresh mr-1"></i>é‡ç½®
                    </button>
                    <div class="flex items-center mb-3">
                        <div class="w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center mr-2">
                            <i class="fa-solid fa-code text-primary text-sm"></i>
                        </div>
                        <h2 class="text-lg font-semibold text-dark">ç­”æ¡ˆæ¡†</h2>
                    </div>
                    <div class="answer-box min-h-[60px]" id="answer-box">
                        <div class="text-gray-400 text-center w-full" id="answer-placeholder">
                            ä»ä¸Šæ–¹æ‹–æ‹½æ¨¡å—åˆ°æ­¤å¤„
                        </div>
                    </div>
                </div>

                <!-- é¢„è§ˆæ•ˆæœåŒºåŸŸ -->
                <div class="bg-white rounded-xl shadow-md p-4 transition-all duration-300 hover:shadow-lg">
                    <div class="flex items-center mb-3">
                        <div class="w-8 h-8 rounded-full bg-secondary/10 flex items-center justify-center mr-2">
                            <i class="fa-solid fa-eye text-secondary text-sm"></i>
                        </div>
                        <h2 class="text-lg font-semibold text-dark">é¢„è§ˆæ•ˆæœ</h2>
                    </div>
                    <div class="space-y-3">
                        <div class="code-preview" id="code-preview">
                            <span class="text-gray-400">&lt;è¿™é‡Œå°†æ˜¾ç¤ºä½ çš„ä»£ç &gt;</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- ç¬¬10é¢˜ -->
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mt-8">
            <!-- é¢˜ç›®åŒºåŸŸ -->
            <div class="lg:col-span-3 bg-white rounded-xl p-4 shadow-lg transition-all duration-300 hover:shadow-xl">
                <h2 class="text-lg font-bold text-dark mb-4 flex items-center">
                    <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mr-3">
                        <i class="fa-solid fa-question text-primary"></i>
                    </div>
                    <span>ç¬¬10é¢˜</span>
                </h2>

                <div class="space-y-2 p-3 bg-neutral rounded-lg text-sm">
                    <div class="code-line font-consolas">
                        <span class="text-gray-700">&lt;</span>
                        <select id="blank1" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="from">from</option>
                            <option value="form">form</option>
                            <option value="input">input</option>
                            <option value="imput">imput</option>
                        </select>
                        <span class="text-gray-700"> action="</span>
                        <select id="blank_action" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="jydj.html">jydj.html</option>
                            <option value="GET">GET</option>
                            <option value="POST">POST</option>
                        </select>
                        <span class="text-gray-700">" method="</span>
                        <select id="blank_method" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="jydj.html">jydj.html</option>
                            <option value="GET">GET</option>
                            <option value="POST">POST</option>
                        </select>
                        <span class="text-gray-700">&gt;</span>
                        <span class="ml-1 text-xs text-gray-500">ğŸš©è¡¨å•æ•°æ®è¦å‘é€åˆ°jydj.htmlé¡µé¢ï¼Œç”¨POSTæ–¹æ³•æäº¤</span>
                    </div>
                    
                    <div class="code-line font-consolas indent-2">
                        <span class="text-gray-700">&lt;</span>
                        <select id="blank2" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="p">p</option>
                            <option value="h2">h2</option>
                        </select>
                        <span class="text-gray-700">&gt;å›¾ä¹¦å€Ÿé˜…ç™»è®°è¡¨&lt;/</span>
                        <select id="blank2_close" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="p">p</option>
                            <option value="h2">h2</option>
                        </select>
                        <span class="text-gray-700">&gt;</span>
                        <span class="ml-1 text-xs text-gray-500">ğŸš©ç”¨h2ä¸ºè¡¨å•æ·»åŠ æ ‡é¢˜</span>
                    </div>
                    
                    <div class="code-line font-consolas indent-2">
                        <span class="text-gray-700">å€Ÿé˜…çš„å›¾ä¹¦åç§°æ˜¯ï¼š<span class="ml-1 text-xs text-gray-500">ğŸš©æ–‡æœ¬æ¡†</span></span>
                    </div>
                    
                    <div class="code-line font-consolas indent-2">
                        <span class="text-gray-700">&lt;</span>
                        <select id="blank3_1" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="from">from</option>
                            <option value="form">form</option>
                            <option value="input">input</option>
                            <option value="imput">imput</option>
                        </select>
                        <span class="text-gray-700"> type="</span>
                        <select id="blank3_1_type" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="radio">radio</option>
                            <option value="text">text</option>
                            <option value="submit">submit</option>
                        </select>
                        <span class="text-gray-700">" name="å›¾ä¹¦åç§°"&gt;</span>
                    </div>
                    
                    <div class="code-line font-consolas indent-2">
                        <span class="text-gray-700">ä½ çš„å¹´çº§æ˜¯ï¼š<span class="ml-1 text-xs text-gray-500">ğŸš©å•é€‰æŒ‰é’®</span></span>
                    </div>
                    
                    <div class="code-line font-consolas indent-2">
                        <span class="text-gray-700">&lt;</span>
                        <select id="blank3_2" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="from">from</option>
                            <option value="form">form</option>
                            <option value="input">input</option>
                            <option value="imput">imput</option>
                        </select>
                        <span class="text-gray-700"> type="</span>
                        <select id="blank3_2_type" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="radio">radio</option>
                            <option value="text">text</option>
                            <option value="submit">submit</option>
                        </select>
                        <span class="text-gray-700">" name="</span>
                        <select id="blank3_2_name" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="å¹´çº§">å¹´çº§</option>
                            <option value="ä¸ƒå¹´çº§">ä¸ƒå¹´çº§</option>
                            <option value="å…«å¹´çº§">å…«å¹´çº§</option>
                            <option value="ä¹å¹´çº§">ä¹å¹´çº§</option>
                        </select>
                        <span class="text-gray-700">" value="</span>
                        <select id="blank3_2_value" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="å¹´çº§">å¹´çº§</option>
                            <option value="ä¸ƒå¹´çº§">ä¸ƒå¹´çº§</option>
                            <option value="å…«å¹´çº§">å…«å¹´çº§</option>
                            <option value="ä¹å¹´çº§">ä¹å¹´çº§</option>
                        </select>
                        <span class="text-gray-700">&gt;ä¸ƒå¹´çº§</span>
                    </div>
                    
                    <div class="code-line font-consolas indent-2">
                        <span class="text-gray-700">&lt;</span>
                        <select id="blank3_3" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="from">from</option>
                            <option value="form">form</option>
                            <option value="input">input</option>
                            <option value="imput">imput</option>
                        </select>
                        <span class="text-gray-700"> type="</span>
                        <select id="blank3_3_type" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="radio">radio</option>
                            <option value="text">text</option>
                            <option value="submit">submit</option>
                        </select>
                        <span class="text-gray-700">" name="</span>
                        <select id="blank3_3_name" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="å¹´çº§">å¹´çº§</option>
                            <option value="ä¸ƒå¹´çº§">ä¸ƒå¹´çº§</option>
                            <option value="å…«å¹´çº§">å…«å¹´çº§</option>
                            <option value="ä¹å¹´çº§">ä¹å¹´çº§</option>
                        </select>
                        <span class="text-gray-700">" value="</span>
                        <select id="blank3_3_value" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="å¹´çº§">å¹´çº§</option>
                            <option value="ä¸ƒå¹´çº§">ä¸ƒå¹´çº§</option>
                            <option value="å…«å¹´çº§">å…«å¹´çº§</option>
                            <option value="ä¹å¹´çº§">ä¹å¹´çº§</option>
                        </select>
                        <span class="text-gray-700">&gt;å…«å¹´çº§</span>
                    </div>
                    
                    <div class="code-line font-consolas indent-2">
                        <span class="text-gray-700">&lt;</span>
                        <select id="blank3_4" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="from">from</option>
                            <option value="form">form</option>
                            <option value="input">input</option>
                            <option value="imput">imput</option>
                        </select>
                        <span class="text-gray-700"> type="</span>
                        <select id="blank3_4_type" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="radio">radio</option>
                            <option value="text">text</option>
                            <option value="submit">submit</option>
                        </select>
                        <span class="text-gray-700">" name="</span>
                        <select id="blank3_4_name" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="å¹´çº§">å¹´çº§</option>
                            <option value="ä¸ƒå¹´çº§">ä¸ƒå¹´çº§</option>
                            <option value="å…«å¹´çº§">å…«å¹´çº§</option>
                            <option value="ä¹å¹´çº§">ä¹å¹´çº§</option>
                        </select>
                        <span class="text-gray-700">" value="</span>
                        <select id="blank3_4_value" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="å¹´çº§">å¹´çº§</option>
                            <option value="ä¸ƒå¹´çº§">ä¸ƒå¹´çº§</option>
                            <option value="å…«å¹´çº§">å…«å¹´çº§</option>
                            <option value="ä¹å¹´çº§">ä¹å¹´çº§</option>
                        </select>
                        <span class="text-gray-700">&gt;ä¹å¹´çº§</span>
                    </div>
                    
                    <div class="code-line font-consolas indent-2">
                        <span class="ml-1 text-xs text-gray-500">ğŸš©æäº¤æŒ‰é’®</span>
                    </div>

                    <div class="code-line font-consolas indent-2">
                        <span class="text-gray-700">&lt;</span>
                        <select id="blank3_5" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="form">form</option>
                            <option value="from">from</option>
                            <option value="input">input</option>
                            <option value="imput">imput</option>
                        </select>
                        <span class="text-gray-700"> type="</span>
                        <select id="blank3_5_type" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="radio">radio</option>
                            <option value="text">text</option>
                            <option value="submit">submit</option>
                        </select>
                        <span class="text-gray-700">" </span>
                        <select id="blank4" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="name">name</option>
                            <option value="value">value</option>
                        </select>
                        <span class="text-gray-700">="æäº¤å€Ÿé˜…ç”³è¯·"&gt;</span>
                    </div>
                    
                    <div class="code-line font-consolas">
                        <span class="text-gray-700">&lt;/</span>
                        <select id="blank1_close" class="blank-select font-consolas">
                            <option value=""></option>
                            <option value="from">from</option>
                            <option value="form">form</option>
                            <option value="input">input</option>
                            <option value="imput">imput</option>
                        </select>
                        <span class="text-gray-700">&gt;</span>
                    </div>
                </div>
                
                <div class="mt-4 flex justify-between">
                    <button id="resetBtn" class="btn-reset text-sm">
                        <i class="fa fa-refresh mr-1"></i>é‡ç½®
                    </button>
                    <button id="submitBtn" class="btn-submit text-sm">
                        <i class="fa fa-check mr-1"></i>æäº¤ç­”æ¡ˆ
                    </button>
                </div>
                
                <div id="feedback" class="mt-3 p-2 rounded-lg hidden transition-all duration-300 text-sm"></div>
            </div>
            
            <!-- é¢„è§ˆçª—å£ -->
            <div class="lg:col-span-1 bg-white rounded-xl p-4 shadow-lg transition-all duration-180 hover:shadow-xl">
                <h2 class="text-lg font-bold text-dark mb-4 flex items-center">
                    <i class="fa fa-eye text-secondary mr-2"></i>é¢„è§ˆçª—å£
                </h2>
                
                <div id="preview-container" class="relative bg-neutral rounded-lg p-3 min-h-[300px] overflow-hidden">
                    <div id="preview-content" class="bg-white p-4 rounded-lg shadow-sm min-h-[250px]">
                        <!-- é¢„è§ˆå†…å®¹å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                        <div class="text-center text-gray-500 py-12">
                            <i class="fa fa-code text-3xl mb-2"></i>
                            <p>è¯·å®Œæˆä¸Šæ–¹çš„ä»£ç å¡«ç©ºï¼Œç„¶åç‚¹å‡»"æäº¤ç­”æ¡ˆ"æŒ‰é’®æŸ¥çœ‹é¢„è§ˆæ•ˆæœ</p>
                        </div>
                    </div>
                    
                    <!-- åŠ è½½åŠ¨ç”» -->
                    <div id="loading" class="absolute inset-0 bg-white/80 flex items-center justify-center hidden">
                        <div class="animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- åºå·æ–‡æœ¬æ¡†å’Œå¦å­˜ä¸ºæŒ‰é’® -->
        <div class="mt-8 flex items-center">
            <label for="file-number" class="mr-2">æ–‡ä»¶åºå·:</label>
            <input type="text" id="file-number" class="border border-gray-300 rounded px-2 py-1 mr-4">
            <button id="save-btn" class="btn-submit text-sm">
                <i class="fa fa-save mr-1"></i>å¦å­˜ä¸º
            </button>
        </div>

        <footer class="mt-8 text-center text-gray-500 text-xs">
            <p>Â© 2025 HTMLä»£ç ç»ƒä¹ å¹³å° | è®¾è®¡ä¸å¼€å‘</p>
        </footer>
    </div>

    <script>
        // ç¬¬9é¢˜è„šæœ¬
        document.addEventListener('DOMContentLoaded', function() {
            // è·å–DOMå…ƒç´ 
            const draggableOptions = document.querySelectorAll('.draggable-item');
            const answerBox = document.getElementById('answer-box');
            const answerPlaceholder = document.getElementById('answer-placeholder');
            const codePreview = document.getElementById('code-preview');
            const resetBtn = document.getElementById('reset-btn');
            
            let draggedItem = null;
            let originalOptions = [];
            
            // ä¿å­˜åŸå§‹é€‰é¡¹
            draggableOptions.forEach(item => {
                originalOptions.push({
                    value: item.getAttribute('data-value'),
                    text: item.textContent
                });
            });
            
            // ä¸ºæ¯ä¸ªå¯æ‹–æ‹½å…ƒç´ æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
            draggableOptions.forEach(item => {
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);
                // æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨
                item.addEventListener('click', handleClick);
            });
            
            // ä¸ºç­”æ¡ˆæ¡†æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
            answerBox.addEventListener('dragover', handleDragOver);
            answerBox.addEventListener('dragenter', handleDragEnter);
            answerBox.addEventListener('dragleave', handleDragLeave);
            answerBox.addEventListener('drop', handleDrop);
            
            // ä¸ºé‡ç½®æŒ‰é’®æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
            resetBtn.addEventListener('click', resetAnswerBox);
            
            // æ‹–æ‹½å¼€å§‹
            function handleDragStart(e) {
                draggedItem = this;
                e.dataTransfer.setData('text/plain', this.getAttribute('data-value'));
                
                // æ·»åŠ æ‹–æ‹½æ ·å¼
                setTimeout(() => {
                    this.classList.add('opacity-50', 'scale-95');
                }, 0);
            }
            
            // æ‹–æ‹½ç»“æŸ
            function handleDragEnd() {
                // ç§»é™¤æ‹–æ‹½æ ·å¼
                this.classList.remove('opacity-50', 'scale-95');
                
                // å¦‚æœæ‹–å‡ºäº†ç­”æ¡ˆæ¡†ï¼Œåˆ™åˆ é™¤è¯¥å…ƒç´ 
                if (draggedItem && draggedItem.parentNode === answerBox) {
                    draggedItem.remove();
                    
                    // å¦‚æœç­”æ¡ˆæ¡†ä¸ºç©ºï¼Œæ˜¾ç¤ºå ä½æ–‡æœ¬
                    if (answerBox.children.length === 0) {
                        answerBox.appendChild(answerPlaceholder);
                    }
                    
                    // æ›´æ–°é¢„è§ˆ
                    updatePreview();
                }
                
                draggedItem = null;
            }
            
            // ç­”æ¡ˆæ¡†æ‹–æ‹½ç»è¿‡
            function handleDragOver(e) {
                e.preventDefault(); // å…è®¸æ”¾ç½®
                this.classList.add('answer-box-highlight');
            }
            
            // ç­”æ¡ˆæ¡†æ‹–æ‹½è¿›å…¥
            function handleDragEnter(e) {
                e.preventDefault();
                this.classList.add('answer-box-highlight');
            }
            
            // ç­”æ¡ˆæ¡†æ‹–æ‹½ç¦»å¼€
            function handleDragLeave() {
                this.classList.remove('answer-box-highlight');
            }
            
            // ç­”æ¡ˆæ¡†æ”¾ç½® - æ”¹è¿›çš„å¤šè¡Œå¤„ç†é€»è¾‘
            function handleDrop(e) {
                e.preventDefault();
                this.classList.remove('answer-box-highlight');
                
                // ç§»é™¤å ä½æ–‡æœ¬
                if (answerPlaceholder && answerBox.contains(answerPlaceholder)) {
                    answerPlaceholder.remove();
                }
                
                // è·å–æ‹–æ‹½çš„æ•°æ®
                const data = e.dataTransfer.getData('text/plain');
                
                // åˆ›å»ºæ–°çš„æ‹–æ‹½é¡¹
                const newItem = document.createElement('div');
                newItem.className = 'draggable-item';
                newItem.draggable = true;
                newItem.setAttribute('data-value', data);
                newItem.textContent = data;
                
                // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
                newItem.addEventListener('dragstart', handleDragStart);
                newItem.addEventListener('dragend', handleDragEnd);
                
                // è·å–é¼ æ ‡ä½ç½®å’Œç­”æ¡ˆæ¡†å°ºå¯¸
                const rect = this.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const children = Array.from(this.children);
                
                // å¦‚æœç­”æ¡ˆæ¡†ä¸ºç©ºï¼Œç›´æ¥æ·»åŠ 
                if (children.length === 0) {
                    this.appendChild(newItem);
                    updatePreview();
                    return;
                }
                
                // æŸ¥æ‰¾æœ€è¿‘çš„å…ƒç´  - è€ƒè™‘å¤šè¡Œæƒ…å†µ
                let closestElement = null;
                let closestOffset = Infinity;
                
                children.forEach(child => {
                    const childRect = child.getBoundingClientRect();
                    const childX = childRect.left - rect.left + childRect.width / 2;
                    const childY = childRect.top - rect.top + childRect.height / 2;
                    const offset = Math.sqrt(Math.pow(x - childX, 2) + Math.pow(y - childY, 2));
                    
                    if (offset < closestOffset) {
                        closestOffset = offset;
                        closestElement = child;
                    }
                });
                
                // å¦‚æœé¼ æ ‡åœ¨å…ƒç´ é™„è¿‘ï¼Œæ’å…¥åˆ°è¯¥å…ƒç´ å‰
                if (closestElement && closestOffset < 50) {
                    // è®¡ç®—é¼ æ ‡åœ¨å…ƒç´ çš„å·¦ä¾§è¿˜æ˜¯å³ä¾§
                    const closestRect = closestElement.getBoundingClientRect();
                    const closestCenterX = closestRect.left - rect.left + closestRect.width / 2;
                    
                    if (x < closestCenterX) {
                        // æ’å…¥åˆ°å…ƒç´ å‰
                        this.insertBefore(newItem, closestElement);
                    } else {
                        // æ’å…¥åˆ°å…ƒç´ å
                        const nextSibling = closestElement.nextSibling;
                        if (nextSibling) {
                            this.insertBefore(newItem, nextSibling);
                        } else {
                            this.appendChild(newItem);
                        }
                    }
                } else {
                    // å¦‚æœç¦»æ‰€æœ‰å…ƒç´ éƒ½è¿œï¼Œæ£€æŸ¥æ˜¯åœ¨ä¸Šæ–¹è¿˜æ˜¯ä¸‹æ–¹
                    const firstChild = children[0];
                    const lastChild = children[children.length - 1];
                    
                    const firstRect = firstChild.getBoundingClientRect();
                    const lastRect = lastChild.getBoundingClientRect();
                    
                    if (y < (firstRect.top - rect.top)) {
                        // åœ¨ç¬¬ä¸€è¡Œä¸Šæ–¹ï¼Œæ’å…¥åˆ°å¼€å¤´
                        this.insertBefore(newItem, firstChild);
                    } else if (y > (lastRect.bottom - rect.top)) {
                        // åœ¨æœ€åä¸€è¡Œä¸‹æ–¹ï¼Œæ’å…¥åˆ°æœ«å°¾
                        this.appendChild(newItem);
                    } else {
                        // åœ¨ä¸­é—´ï¼Œä½†ç¦»å…ƒç´ è¿œï¼Œå¯èƒ½æ˜¯è¡Œæœ«ï¼Œæ’å…¥åˆ°æœ«å°¾
                        this.appendChild(newItem);
                    }
                }
                
                // æ›´æ–°é¢„è§ˆ
                updatePreview();
            }
            
            // ç‚¹å‡»å¯é€‰æ¨¡å—
            function handleClick() {
                if (answerPlaceholder && answerBox.contains(answerPlaceholder)) {
                    answerPlaceholder.remove();
                }
                
                const data = this.getAttribute('data-value');
                const newItem = document.createElement('div');
                newItem.className = 'draggable-item';
                newItem.draggable = true;
                newItem.setAttribute('data-value', data);
                newItem.textContent = data;
                
                newItem.addEventListener('dragstart', handleDragStart);
                newItem.addEventListener('dragend', handleDragEnd);
                
                answerBox.appendChild(newItem);
                updatePreview();
            }
            
            // é‡ç½®ç­”æ¡ˆæ¡†
            function resetAnswerBox() {
                // æ¸…ç©ºç­”æ¡ˆæ¡†
                while (answerBox.firstChild) {
                    answerBox.removeChild(answerBox.firstChild);
                }
                
                // æ·»åŠ å ä½æ–‡æœ¬
                answerBox.appendChild(answerPlaceholder);
                
                // æ›´æ–°é¢„è§ˆ
                updatePreview();
                
                // æ·»åŠ åŠ¨ç”»æ•ˆæœ
                answerBox.classList.add('animate-pulse');
                setTimeout(() => {
                    answerBox.classList.remove('animate-pulse');
                }, 1000);
                
                // é‡ç½®æŒ‰é’®åŠ¨ç”»
                resetBtn.classList.add('animate-spin');
                setTimeout(() => {
                    resetBtn.classList.remove('animate-spin');
                }, 500);
            }
            
            // ä½¿ç­”æ¡ˆæ¡†ä¸­çš„å…ƒç´ å¯æ’åº
            answerBox.addEventListener('click', function(e) {
                // è¿™é‡Œå¯ä»¥æ·»åŠ å…ƒç´ æ’åºçš„é€»è¾‘
            });
            
            // æ›´æ–°é¢„è§ˆ
            function updatePreview() {
                const items = Array.from(answerBox.children).map(item => item.getAttribute('data-value'));
                codePreview.textContent = items.join(' ');
            }
        });
    </script>
</body>
</html>
